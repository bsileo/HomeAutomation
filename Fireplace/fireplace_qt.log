Button red pressed
Button purple pressed
Going to sleep
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.18 - - [22/Mar/2021 08:39:04] "GET /red HTTP/1.1" 404 -
192.168.2.18 - - [22/Mar/2021 08:39:05] "GET /favicon.ico HTTP/1.1" 404 -
Exception on /off [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/lib/python3/dist-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
TypeError: off() missing 1 required positional argument: 'self'
192.168.2.18 - - [22/Mar/2021 08:39:23] "GET /off HTTP/1.1" 500 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
Exception on /red [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/lib/python3/dist-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 205, in red
    form.red(form)
NameError: name 'form' is not defined
192.168.2.18 - - [22/Mar/2021 10:25:21] "GET /red HTTP/1.1" 500 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
Exception on /red [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/lib/python3/dist-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 206, in red
    form.red(form)
NameError: name 'form' is not defined
192.168.2.18 - - [22/Mar/2021 10:25:57] "GET /red HTTP/1.1" 500 -
Exception on /red [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/lib/python3/dist-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 206, in red
    form.red(form)
NameError: name 'form' is not defined
192.168.2.18 - - [22/Mar/2021 10:26:05] "GET /red HTTP/1.1" 500 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
Exception on /red [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/lib/python3/dist-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 206, in red
    form.red(form)
NameError: name 'form' is not defined
192.168.2.18 - - [22/Mar/2021 10:31:49] "GET /red HTTP/1.1" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
Exception on /red [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/lib/python3/dist-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 259, in red
    fireplace.red(form)
NameError: name 'fireplace' is not defined
192.168.2.18 - - [22/Mar/2021 20:10:06] "GET /red HTTP/1.1" 500 -
192.168.2.18 - - [22/Mar/2021 20:10:06] "GET /favicon.ico HTTP/1.1" 404 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
Exception on /red [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/lib/python3/dist-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 264, in red
    fireplace.red()
NameError: name 'fireplace' is not defined
192.168.2.18 - - [22/Mar/2021 20:11:50] "GET /red HTTP/1.1" 500 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
NAME=fireplace_qt
Exception on /red [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1816, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1831, in finalize_request
    response = self.make_response(rv)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1957, in make_response
    'The view function did not return a valid response. The'
TypeError: The view function did not return a valid response. The function either returned None or ended without a return statement.
192.168.2.18 - - [22/Mar/2021 20:20:52] "GET /red HTTP/1.1" 500 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.18 - - [22/Mar/2021 20:24:10] "GET /blue HTTP/1.1" 404 -
192.168.2.18 - - [22/Mar/2021 20:24:17] "GET /yellow HTTP/1.1" 404 -
192.168.2.18 - - [22/Mar/2021 20:24:24] "GET /purple HTTP/1.1" 404 -
192.168.2.18 - - [22/Mar/2021 20:24:32] "GET /red HTTP/1.1" 404 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.18 - - [22/Mar/2021 20:25:50] "GET /red HTTP/1.1" 404 -
192.168.2.18 - - [22/Mar/2021 20:25:56] "GET /blue HTTP/1.1" 404 -
192.168.2.18 - - [22/Mar/2021 20:26:01] "GET / HTTP/1.1" 404 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
NAME=fireplace_qt
main route
192.168.2.18 - - [22/Mar/2021 20:27:08] "GET / HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 20:27:13] "GET /red HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 20:27:19] "GET /yellow HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 20:27:24] "GET /blue HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 20:27:28] "GET /purple HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 20:27:32] "GET /lightblue HTTP/1.1" 200 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
NAME=fireplace_qt
Exception on /purple [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1808, in full_dispatch_request
    self.try_trigger_before_first_request_functions()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1855, in try_trigger_before_first_request_functions
    func()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 299, in setup
    main()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 303, in main
    setup()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 297, in setup
    fireplace = Fireplace()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 189, in __init__
    pi_pwm = GPIO.PWM(18,100)
RuntimeError: A PWM object already exists for this GPIO channel
192.168.2.18 - - [22/Mar/2021 20:29:55] "GET /purple HTTP/1.1" 500 -
NAME=fireplace_qt
Exception on /red [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1808, in full_dispatch_request
    self.try_trigger_before_first_request_functions()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1855, in try_trigger_before_first_request_functions
    func()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 299, in setup
    main()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 303, in main
    setup()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 297, in setup
    fireplace = Fireplace()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 189, in __init__
    pi_pwm = GPIO.PWM(18,100)
RuntimeError: A PWM object already exists for this GPIO channel
192.168.2.18 - - [22/Mar/2021 20:30:03] "GET /red HTTP/1.1" 500 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
NAME=fireplace_qt
Exception on /red [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1808, in full_dispatch_request
    self.try_trigger_before_first_request_functions()
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1855, in try_trigger_before_first_request_functions
    func()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 299, in setup
    main()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 303, in main
    qtapp = QApplication(sys.argv)
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 297, in setup
    fireplace = Fireplace()
  File "/home/pi/HomeAutomation/Fireplace/fireplace_qt.py", line 189, in __init__
    #pi_pwm = GPIO.PWM(18,100)
RuntimeError: A PWM object already exists for this GPIO channel
192.168.2.18 - - [22/Mar/2021 20:31:18] "GET /red HTTP/1.1" 500 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.18 - - [22/Mar/2021 20:33:44] "GET /blue HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 20:33:51] "GET /red HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 20:34:08] "GET /blue HTTP/1.1" 200 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.18 - - [22/Mar/2021 20:40:18] "GET /red HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 20:40:24] "GET /blue HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 20:41:23] "GET /red HTTP/1.1" 200 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.18 - - [22/Mar/2021 20:54:04] "GET /red HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 20:54:08] "GET /blue HTTP/1.1" 200 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.18 - - [22/Mar/2021 21:01:08] "GET /blue HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 21:01:11] "GET /red HTTP/1.1" 200 -
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.18 - - [22/Mar/2021 21:03:10] "GET /blue HTTP/1.1" 200 -
192.168.2.18 - - [22/Mar/2021 21:03:13] "GET /red HTTP/1.1" 200 -
Going to sleep
Going to sleep
Going to sleep
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.106 - - [22/Mar/2021 21:14:54] "POST /api_command/gpio_set_value/27/0 HTTP/1.1" 404 -
192.168.2.106 - - [22/Mar/2021 21:14:54] "POST /api_command/gpio_set_value/22/1 HTTP/1.1" 404 -
192.168.2.106 - - [22/Mar/2021 21:14:54] "POST /null HTTP/1.1" 404 -
192.168.2.106 - - [22/Mar/2021 21:14:54] "POST /api_command/gpio_set_value/17/1 HTTP/1.1" 404 -
192.168.2.106 - - [22/Mar/2021 21:15:23] "POST /green HTTP/1.1" 405 -
192.168.2.106 - - [22/Mar/2021 21:15:27] "POST /purple HTTP/1.1" 405 -
192.168.2.106 - - [22/Mar/2021 21:25:22] "GET /green HTTP/1.1" 200 -
192.168.2.106 - - [22/Mar/2021 21:25:24] "GET /purple HTTP/1.1" 200 -
192.168.2.106 - - [22/Mar/2021 21:25:26] "GET /red HTTP/1.1" 200 -
192.168.2.106 - - [22/Mar/2021 21:25:26] "GET /yellow HTTP/1.1" 200 -
192.168.2.106 - - [22/Mar/2021 21:25:27] "GET /white HTTP/1.1" 200 -
192.168.2.106 - - [22/Mar/2021 21:25:28] "GET /lightblue HTTP/1.1" 200 -
192.168.2.106 - - [22/Mar/2021 21:25:29] "GET /blue HTTP/1.1" 200 -
192.168.2.106 - - [22/Mar/2021 21:26:42] "GET /off HTTP/1.1" 200 -
192.168.2.106 - - [22/Mar/2021 21:26:44] "GET /green HTTP/1.1" 200 -
192.168.2.106 - - [22/Mar/2021 21:26:44] "GET /blue HTTP/1.1" 200 -
192.168.2.106 - - [22/Mar/2021 21:26:45] "GET /lightblue HTTP/1.1" 200 -
Going to sleep
192.168.2.106 - - [22/Mar/2021 23:00:01] "GET /off HTTP/1.1" 200 -
Going to sleep
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.106 - - [23/Mar/2021 19:56:49] "GET /green HTTP/1.1" 200 -
192.168.2.106 - - [23/Mar/2021 19:56:51] "GET /lightblue HTTP/1.1" 200 -
192.168.2.106 - - [23/Mar/2021 19:56:55] "GET /off HTTP/1.1" 200 -
192.168.2.106 - - [23/Mar/2021 19:56:56] "GET /purple HTTP/1.1" 200 -
192.168.2.106 - - [23/Mar/2021 19:56:57] "GET /red HTTP/1.1" 200 -
192.168.2.106 - - [23/Mar/2021 19:56:58] "GET /yellow HTTP/1.1" 200 -
192.168.2.106 - - [23/Mar/2021 19:56:59] "GET /green HTTP/1.1" 200 -
192.168.2.106 - - [23/Mar/2021 19:57:00] "GET /blue HTTP/1.1" 200 -
Going to sleep
Going to sleep
Going to sleep
Going to sleep
Going to sleep
Going to sleep
Going to sleep
Going to sleep
Going to sleep
Going to sleep
Going to sleep
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.2.106 - - [23/Mar/2021 20:41:48] "GET /blue HTTP/1.1" 200 -
192.168.2.106 - - [23/Mar/2021 20:41:51] "GET /off HTTP/1.1" 200 -
192.168.2.106 - - [23/Mar/2021 20:41:54] "GET /green HTTP/1.1" 200 -
Going to sleep
Going to sleep
Going to sleep
Going to sleep
Going to sleep
Going to sleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
Going to sleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
Going to sleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
still asleep
